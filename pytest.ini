# pytest configuration for CodeSight project
[pytest]
python_files = test_*.py
python_functions = test_*
python_classes = Test*
testpaths = test
addopts = 
    --strict-markers
    --tb=short
    --color=yes
    -v
    --ignore=test/steps/step01/conftest_pytest.py
    --ignore=test/steps/step01/run_tests.py

markers =
    unit: Unit tests for individual components
    integration: Integration tests between components  
    slow: Tests that take longer to run
    filesystem: Tests that interact with the filesystem
    config: Tests related to configuration management
    step01: Tests for Step 01 filesystem analysis
    step02: Tests for Step 02 AST extraction
    step03: Tests for Step 03 embeddings analysis
    step04: Tests for Step 04 LLM analysis
    step05: Tests for Step 05 relationship mapping
    step06: Tests for Step 06 output generation
    step07: Tests for Step 07 validation

# Python path configuration
pythonpath = 
    src
    .
    test

# Ignore noisy DeprecationWarnings from SWIG-generated extensions (e.g., faiss)
filterwarnings =
    ignore:.*SwigPyPacked.*no __module__ attribute:DeprecationWarning
    ignore:.*SwigPyObject.*no __module__ attribute:DeprecationWarning
    ignore:.*swigvarlink.*no __module__ attribute:DeprecationWarning
